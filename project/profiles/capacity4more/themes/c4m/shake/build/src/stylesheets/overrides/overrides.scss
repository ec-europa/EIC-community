@import "base/colors";
@import "base/mixins";
@import "base/typography";


@import "components/activity";
@import "components/alert";
@import "components/breadcrumb";
@import "components/button";
@import "components/carousel";
@import "components/dropdown";
@import "components/event";
@import "components/field";
@import "components/footer";
@import "components/form/form";
@import "components/form/checkbox";
@import "components/form/radio";
@import "components/form/user";
@import "components/group";
@import "components/header";
@import "components/label";
@import "components/media";
@import "components/modal";
@import "components/navigation";
@import "components/pager";
@import "components/pane";
@import "components/popover";
@import "components/progress";
@import "components/project";
@import "components/sidebar";
@import "components/statistics";
@import "components/table";
@import "components/tags";
@import "components/tooltip";
@import "components/ui/ui";
@import "components/ui/datepicker";
@import "components/user";
@import "components/view";




.file-widget {
    .btn {
        float: right;
    }
}


#main-wrapper > .container {
    min-height: 500px;
}


.show-more a, .pager-load-more a {
    text-transform: capitalize;
}

.contextual-links-region > .row > .col-sm-4 {
    @include css-var("background-color", "ec-grey-5");
    padding-top: 16px;
    padding-bottom: 16px;
}

.contextual-links-region > .row > .col-sm-4 .panel-separator {
    @include css-var("background-color", "ec-grey-10");
}


.region-content img,
.block-c4m-features-learning-space img {
    border: none;
    border-radius: 0;
}


.close {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    opacity: 1;
    text-shadow: none;
    color: #000;
    border: solid 1px;
    text-align: center;
    &:hover,
    &:focus {
        opacity: 1;
    }
    &:focus {
        outline: none;
    }
}


.caret {
    width: auto;
    height: auto;
    margin-left: .66rem;
    border: none;
    vertical-align: top;
    &::after {
        content: "\e81f";
        display: inline-block;
        font-family: "EuropaIcons";
        -moz-osx-font-smoothing: grayscale;
        -webkit-font-smoothing: antialiased;
        font-style: normal;
        font-variant: normal;
        font-weight: 400;
        line-height: 1;
        speak: none;
        text-decoration: none;
        text-transform: none;
        font-size: .875rem;

        [aria-expanded="true"] & {
            transform: rotate(180deg);
        }
    }
}


.panel-separator {
    margin: 20px 0;
    width: 100%;
    height: 1px;
    background: var(--ec-grey-25);
}

.btn + .panel-separator,
.button.browse + .panel-separator {
    margin-bottom: 20px;
}

.pane-voices-views-carousel + .panel-separator {
    display: none;
}



.groupNavigation-divider, .view .see-more-link, .view .more-link, :not(.page-groups) .view .more-link {
    @include css-var("border-top", "ec-grey-10", "solid 1px");
}

.page-groups .view .more-link {
  margin-top: 0;
}


.more-info a .fa {
    font-size: 12px;
}


#scroll-top {
    right: 20px;
    bottom: 20px;
    width: 40px;
    height: 40px;
    border-radius: 0;
    border: solid 1px rgba(#fff, 0.25);
    transition: background-color 0.15s ease-in-out;
}

#scroll-top:hover {
    @include css-var("background-color", "ec-grey-75");
}

#scroll-top i {
    font-size: 32px;
    line-height: 1;
}


.arrow--right, .pager-load-more a::after {
    top: 3px;
    border-right: solid 2px currentColor;
    border-bottom: solid 2px currentColor;
}

.row.features {
    background: none;
    border: none;
}

.row.features .panel-separator {
    border-bottom: none;
    background: none;
}


.page-content {
    &::after {
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: rgba(#000, 0.25);
        opacity: 0;
        transition: opacity 0.3s ease-in-out;
        pointer-events: none;
    }
}




.view-mode-block_list .field-name-c4m-ds-group-type-icon .fa,
.view-mode-block_list .field-name-c4m-ds-project-type-icon .fa,
.view-mode-block_list .field-name-c4m-ds-event-site-type-icon .fa,
.view-mode-block_list .field-name-c4m-ds-organisation-type-icon .fa {
    width: auto;
    margin: 0 8px 0 0;
}

.field-name-c4m-ds-content-footer-stats,
.field-name-c4m-ds-content-footer-stats-linked,
.field-name-c4m-ds-node-highlight,
.field-name-c4m-ds-node-promote {
    @include css-var("color", "ec-grey-50");
}

.view-mode-group_dashboard .field-name-c4m-ds-node-highlight {
    @include clearfix;
}

.view-mode-full:not(.node-wiki-page)>.content>.group-right>section:not(:last-child), .view-mode-full:not(.node-wiki-page)>.content>.group-right>div:not(.field-name-c4m-content-wiki-page-collapse):not(:last-child), .view-mode-full.node-wiki-page>.content>.group-left>section:not(:last-child), .view-mode-full.node-wiki-page>.content>.group-left>div:not(.field-name-c4m-content-wiki-page-collapse):not(:last-child),
.view-mode-full:not(.node-wiki-page)>.content>.group-right>section .views-row:not(:last-child), .view-mode-full:not(.node-wiki-page)>.content>.group-right>section .detail-element:not(:last-child), .view-mode-full:not(.node-wiki-page)>.content>.group-right>section .view-mode-block_list:not(:last-child), .view-mode-full:not(.node-wiki-page)>.content>.group-right>div:not(.field-name-c4m-content-wiki-page-collapse) .views-row:not(:last-child), .view-mode-full:not(.node-wiki-page)>.content>.group-right>div:not(.field-name-c4m-content-wiki-page-collapse) .detail-element:not(:last-child), .view-mode-full:not(.node-wiki-page)>.content>.group-right>div:not(.field-name-c4m-content-wiki-page-collapse) .view-mode-block_list:not(:last-child), .view-mode-full.node-wiki-page>.content>.group-left>section .views-row:not(:last-child), .view-mode-full.node-wiki-page>.content>.group-left>section .detail-element:not(:last-child), .view-mode-full.node-wiki-page>.content>.group-left>section .view-mode-block_list:not(:last-child), .view-mode-full.node-wiki-page>.content>.group-left>div:not(.field-name-c4m-content-wiki-page-collapse) .views-row:not(:last-child), .view-mode-full.node-wiki-page>.content>.group-left>div:not(.field-name-c4m-content-wiki-page-collapse) .detail-element:not(:last-child), .view-mode-full.node-wiki-page>.content>.group-left>div:not(.field-name-c4m-content-wiki-page-collapse) .view-mode-block_list:not(:last-child),
#comments .comment,
.node-project.view-mode-group_dashboard>.content>.field, .node-event-site.view-mode-group_dashboard>.content>.field, .node-organisation.view-mode-group_dashboard>.content>.field
{
    @include css-var("border-bottom", "ec-grey-10", "solid 1px");
    padding-bottom: 20px;
}

.view-mode-full:not(.node-wiki-page)>.content>.group-right>div:not(.field-name-c4m-content-wiki-page-collapse) .view-mode-block_lis:last-child,
.view-mode-full>.content>.group-right>section .views-row, .view-mode-full>.content>.group-right>section .detail-element, .view-mode-full>.content>.group-right>section .view-mode-block_list, .view-mode-full>.content>.group-right>div:not(.field-name-c4m-content-wiki-page-collapse):not(:last-child) .views-row, .view-mode-full>.content>.group-right>div:not(.field-name-c4m-content-wiki-page-collapse):not(:last-child) .detail-element, .view-mode-full>.content>.group-right>div:not(.field-name-c4m-content-wiki-page-collapse):not(:last-child) .view-mode-block_list, .view-mode-full.node-wiki-page>.content>.group-left>section .views-row, .view-mode-full.node-wiki-page>.content>.group-left>section .detail-element, .view-mode-full.node-wiki-page>.content>.group-left>section .view-mode-block_list, .view-mode-full.node-wiki-page>.content>.group-left>div:not(.field-name-c4m-content-wiki-page-collapse):not(:last-child) .views-row, .view-mode-full.node-wiki-page>.content>.group-left>div:not(.field-name-c4m-content-wiki-page-collapse):not(:last-child) .detail-element, .view-mode-full.node-wiki-page>.content>.group-left>div:not(.field-name-c4m-content-wiki-page-collapse):not(:last-child) .view-mode-block_list,
.view-mode-full>.content>.group-right>section, .view-mode-full>.content>.group-right>div:not(.field-name-c4m-content-wiki-page-collapse):not(:last-child), .view-mode-full.node-wiki-page>.content>.group-left>section, .view-mode-full.node-wiki-page>.content>.group-left>div:not(.field-name-c4m-content-wiki-page-collapse):not(:last-child) {
    border-bottom: none;
}

.view-mode-full:not(.node-wiki-page)>.content>.group-right>section .views-row, .view-mode-full:not(.node-wiki-page)>.content>.group-right>section .detail-element, .view-mode-full:not(.node-wiki-page)>.content>.group-right>section .view-mode-block_list, .view-mode-full:not(.node-wiki-page)>.content>.group-right>div:not(.field-name-c4m-content-wiki-page-collapse) .views-row, .view-mode-full:not(.node-wiki-page)>.content>.group-right>div:not(.field-name-c4m-content-wiki-page-collapse) .detail-element, .view-mode-full:not(.node-wiki-page)>.content>.group-right>div:not(.field-name-c4m-content-wiki-page-collapse) .view-mode-block_list, .view-mode-full.node-wiki-page>.content>.group-left>section .views-row, .view-mode-full.node-wiki-page>.content>.group-left>section .detail-element, .view-mode-full.node-wiki-page>.content>.group-left>section .view-mode-block_list, .view-mode-full.node-wiki-page>.content>.group-left>div:not(.field-name-c4m-content-wiki-page-collapse) .views-row, .view-mode-full.node-wiki-page>.content>.group-left>div:not(.field-name-c4m-content-wiki-page-collapse) .detail-element, .view-mode-full.node-wiki-page>.content>.group-left>div:not(.field-name-c4m-content-wiki-page-collapse) .view-mode-block_list,
.node-project.view-mode-group_dashboard>.content>.field, .node-event-site.view-mode-group_dashboard>.content>.field, .node-organisation.view-mode-group_dashboard>.content>.field
{
    margin-bottom: 20px;
}

#comments h2,
.view h2,
.block-c4m-features-overview-events > h2 {
    font-size: 24px;
    line-height: 27px;
}

.view-header h2,
.view .node h2 {
    font-size: 18px;
    line-height: 1.2;
}

.view .node .fa-newspaper-o, .view .node .user-name, .view .node .posted-by, .view .node .creation-date {
    font-size: 14px;
    @include css-var("color", "ec-grey-75");
}

.page-container + .cke_screen_reader_only {
    width: 0;
    height: 0;
}

.view-mode-teaser.node-topic {
    @include css-var("background-color", "ec-grey-10");
    border-radius: 0;
    padding: 10px;
}

.view-mode-member_overview.node-topic, .view-mode-teaser.node-topic, .node-topic.view-mode-teaser_group {
    @include css-var("color", "ec-grey-100", "", "!important");
}

.view-mode-member_overview.node-topic a, .view-mode-teaser.node-topic a, .node-topic.view-mode-teaser_group a {
    color: inherit;
}

.view-mode-teaser.node-topic .field-name-title h3 {
    font-size: 18px;
    line-height: 1.2;
    font-weight: normal;
}



.views-widget-search {
    margin-bottom: 10px;
}

.views-exposed-widgets {
    margin-bottom: 30px;
}

.views-widget-search label {
    font-size: 16px;
    font-weight: bold;
    color: inherit;
}

.views-exposed-form .views-exposed-widget {
    padding: 0;
}

.views-exposed-form .views-submit-button, .views-exposed-form .views-reset-button {
    float: none;
}

.view-items-with-dashed-separator .view-header,
.view-items-with-dashed-separator .views-row-last {
    padding-bottom: 20px;
    @include css-var("border-bottom", "ec-grey-10", "solid 1px");
}



.view-header .total-items, .items-per-page-container {
    margin-top: 0;
}

.views-row h3 {
    font-size: 18px;
    line-height: 1.2;
}

.node-teaser .group-left, .node-photo .group-left {
    padding-left: 0;
    padding-right: 0;
}

.field-name-c4m-intro-text {
    &:not(:last-child) {
        margin-bottom: 20px;
    }
}

.view-mode-teaser .row-entity-count, .view-mode-teaser:not(.node-group):not(.user-profile) .fa {
    @include css-var("color", "ec-grey-50", "", "!important");
}

.views-row + .views-row:not(.no-border) {
    margin-top: 20px;
    padding-top: 20px;
    @include css-var("border-top", "ec-grey-10", "solid 1px");
}

.c4m-group-cta:not(:last-child), .c4m-group-visitor-cta:not(:last-child),
.view-mode-full .content .group-right div.field-name-c4m-related-user .view-mode-block_list {
    @include css-var("border-bottom", "ec-grey-10", "solid 1px");
    padding-bottom: 20px;
}

.view-mode-full .content .group-right div.field-name-c4m-related-user .view-mode-block_list:last-child {
    border-bottom: none;
    padding-bottom: 0;
}

.view-mode-full .content .group-right div.field-name-c4m-related-user .view-mode-block_list:last-child {
    margin-bottom: 0 !important;
}

#comments .comment {
    margin: 20px 0;
    padding-bottom: 20px;
}



.field-name-c4m-related-user + .field-name-c4m-link-multiple {
    @include css-var("border-top", "ec-grey-10", "solid 1px");
    padding-top: 20px;
    margin-top: 20px;
}

.highlight-link, .flag-link-confirm,
.pane-c4m-features-og-group-dashboard-c4m-cta-block .pane-content .dropdown .action {
    font-size: inherit;
}

.group-footer .highlight-link, .group-footer .flag-link-confirm, .c4m-organisation-node-highlight .highlight-link {
    opacity: 0.5;
}

.view-mode-teaser:not(.node-group):not(.user-profile) .group-footer .highlight-link .fa,
.view-mode-teaser:not(.node-group):not(.user-profile) .group-footer .flag-link-confirm .fa {
    @include css-var("color", "ec-grey-75", "", "!important");
}

.highlight-link:hover, .highlight-link:focus, .flag-link-confirm:hover, .flag-link-confirm:focus {
    opacity: 1;
}

.c4m-node-highlight {
    font-size: 16px;
}


.field-name-c4m-left-column .system-block-title, .field-name-c4m-left-column .map-title {
    color: inherit;
    font-size: 22px;
    margin-bottom: 10px;
}

.field-name-c4m-system-block-renderer {
    margin-bottom: 20px;
}

.view-mode-full .node {
    margin-bottom: 0;
}

.c4m-group-cta .pane-title, .c4m-group-visitor-cta .pane-title,
.node-organisation.view-mode-group_dashboard>.content>.field h3.label-above {
    font-size: 17px;
    line-height: 1.2;
    margin: 0 0 10px 0;
}

.c4m-social-media-item {
    display: block;
}

.views-reset-button button {
    line-height: 1;
}




.view-mode-member_overview.node-document .node-icon,
.view-mode-teaser.node-document .node-icon,
.node-document.view-mode-teaser_group .node-icon {
    width: 30px;
    height: 30px;
}

.node-icon[class*="as-group-"] {
    margin: 0;
}



.field-name-c4m-field-og-group, .field-name-c4m-ds-content-type-label {
    margin-bottom: 10px;
}



.view-header a.node-create-news, .view-header a.node-create-discussion, .view-header a.node-create-event, .view-header a.node-create-document, .view-header a.node-create-photoalbum, .view-header a.node-create-photo {
    text-transform: none;
    &:hover,
    &:focus {
        background-color: transparent;
        @include css-var("border-color", "ec-blue-100");
        @include css-var("color", "ec-blue-100");
        text-decoration: underline;
    }
}

.node-add-wrapper {
    position: relative;
    float: left;
    z-index: 1;

    + .node-add-wrapper {
        margin: 0 0 0 1em;
    }
}

.search-api-sort {
    margin-bottom: 30px;
    .dropdown-menu {
        left: auto;
        max-width: 200px;
    }
}

.topics-section {
    border-top: solid 1px rgba(#000, 0.15);
    border-bottom: solid 1px rgba(#000, 0.15);
}

.bootstrap-twocol-stacked > .row > .group-right {
    @include css-var("border-left", "ec-grey-10", "solid 1px");
}

.og-context {
    .pane-c4m-content-group {
        border-bottom: none;
        .c4m-created-on-date {
            border-top: none;
            border-bottom: none;
            @include css-var("background-color", "ec-yellow-25");
        }
    }
}


.node-unpublished {
    position: relative;
    background: none;
    &::before {
        content: "";
        display: block;
        position: absolute;
        left: 50%;
        top: 0;
        width: 100vw;
        height: 100%;
        margin-left: -50vw;
        z-index: -1;
        @include css-var("background-color", "ec-red-n");
        opacity: 0.1;
    }
}


.redirect-list {
    width: 100%;
}

.admin-list {
    dd {
        margin-bottom: 1em;
    }
}


.preview .node {
    @include css-var("background-color", "ec-yellow-25");
}

.group-right {
  // Wiki add links on the right.
  .wiki-add-links {
    border-top: none;
    margin-bottom: 4rem;
    margin-top: 0;
    padding-top: 0;
  }

  .add-links {
    list-style: none;
    margin-bottom: 0;
    display: flex;
    padding: 0;
  }

  li {
    margin-right: 15px;
  }
}

@media (max-width: 860px) {
    .video-preview-cta .link, .video-preview-cta .cta .btn, .video-preview-cta .cta .button.browse {
        font-size: 16px;
        padding: 13px 20px;
    }

    .col-xs-6.views-row {
        float: none;
        width: 100%;
    }

    .btn-group-discussion_type {
        .discussion_type {
            &:not(:last-child) {
                margin-bottom: 20px;
            }
        }
    }
}


@media (min-width: 992px) {
    .container {
        max-width: 100%;
    }
}
